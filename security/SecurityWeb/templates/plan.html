{% extends "base.html" %}}
{% load static %}

{% block estilos %}
  
{% endblock estilos %}

{% block contenido %}

<main class="cs-page-wrapper">
    <h3 class="text-center">Elige tu Opción</h3>
    
    <section class="container pt-3 pt-md-4 pb-3 pb-sm-4 pb-lg-5 mb-4">
        <div class="row">
            <div class="col-6">
                <!-- Vertical pricing plan alt -->
                <div class="card card-hover shadow">
                    <div class="card-img-top text-center pt-4">
                    <h3 class="mt-3 mb-2">Básico</h3>
                    </div>
                    <div class="card-body pt-0">
                    <div class="display-4 d-flex justify-content-center mb-3 py-2 px-4 text-primary">
                        USD 10
                        <sup class="lead fw-bold mt-4 ms-2">/Mes</sup>
                    </div>
                    <hr class="hr-gradient mx-n4 mb-4">
                    <ul class="list-unstyled d-table mx-auto mb-0 pb-2">
                        <li class="d-flex align-items-center mb-2">
                        <i class="fa-solid fa-check text-primary mr-2"></i>
                        <span>Analisis Empresarial</span>
                        </li>
                        <li class="d-flex align-items-center mb-2 opacity-95">
                        <i class="fa-solid fa-xmark text-muted mr-2"></i>
                        <span class="text-muted">Capacitación</span>
                        </li>
                        <li class="d-flex align-items-center mb-2 opacity-95">
                        <i class="fa-solid fa-xmark text-muted mr-2"></i>
                        <span class="text-muted">Informes de Estado</span>
                        </li>
                        <li class="d-flex align-items-center mb-2 opacity-95">
                        <i class="fa-solid fa-xmark text-muted mr-2"></i>
                        <span class="text-muted">Indicaciones de mejora</span>
                        </li>
                        <li class="d-flex align-items-center mb-2 opacity-95">
                        <i class="fa-solid fa-xmark text-muted mr-2"></i>
                        <span class="text-muted">Registro de Accidentes</span>
                        </li>
                        <li class="d-flex align-items-center mb-2 opacity-95">
                        <i class="fa-solid fa-xmark text-muted mr-2"></i>
                        <span class="text-muted">Visitas Terreno</span>
                        </li>
                        <li class="d-flex align-items-center mb-2 opacity-95">
                        <i class="fa-solid fa-xmark text-muted mr-2"></i>
                        <span class="text-muted">Asistencia las 24H</span>
                        </li>
                    </ul>
                    </div>
                    <div class="card-footer pt-0 border-0 text-center">
                    <a class="btn btn-outline-danger disabled mb-4">Elegir Plan</a>
                    </div>
                </div>
            </div>
            <div class="col-6">
                <!-- Featured vertical pricing plan alt -->
                <div class="card card-hover shadow border-success bg-dark">
                    <div class="card-img-top text-center pt-4">
                    <h3 class="mt-3 mb-2 text-white">Plus</h3>
                    </div>
                    <div class="card-body pt-0">
                    <div class="display-4 d-flex justify-content-center mb-3 py-2 px-4 text-success">
                        USD 60
                        <sup class="lead fw-bold mt-4 ms-2">/Mes</sup>
                    </div>
                    <hr class="hr-gradient hr-light mx-n4 mb-4">
                    <ul class="list-unstyled d-table mx-auto mb-0 pb-2">
                        <li class="d-flex align-items-center mb-2">
                        <i class="fa-solid fa-check text-success mr-2"></i>
                        <span class="text-white">Analisis Empresarial</span>
                        </li>
                        <li class="d-flex align-items-center mb-2">
                        <i class="fa-solid fa-check text-success mr-2"></i>
                        <span class="text-white">Capacitación</span>
                        </li>
                        <li class="d-flex align-items-center mb-2">
                        <i class="fa-solid fa-check text-success mr-2"></i>
                        <span class="text-white">Informes de Estado</span>
                        </li>
                        <li class="d-flex align-items-center mb-2">
                        <i class="fa-solid fa-check text-success mr-2"></i>
                        <span class="text-white">Indicaciones de mejora</span>
                        </li>
                        <li class="d-flex align-items-center mb-2">
                        <i class="fa-solid fa-check text-success mr-2"></i>
                        <span class="text-white">Registro de Accidentes</span>
                        </li>
                        <li class="d-flex align-items-center mb-2">
                        <i class="fa-solid fa-check text-success mr-2"></i>
                        <span class="text-white">Visitas Terreno</span>
                        </li>
                        <li class="d-flex align-items-center mb-2">
                        <i class="fa-solid fa-check text-success mr-2"></i>
                        <span class="text-white">Asistencia las 24H</span>
                        </li>
                    </ul>
                    </div>
                    <div class="card-footer pt-0 border-0 text-center">
                        <a data-toggle="modal" href="#normalModal" class="btn btn-primary mb-4">Contratar</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <h1 class="text-center">{{mensaje}}</h1>
    <h1 class="text-danger text-center">{{expiro}}{{contrato_caducado|date:"d/M/y"}} {{ contrato_caducado|time:"H:i" }}</h1>

    <div class="modal fade" id="normalModal" tabindex="-1" role="dialog" style="display: none;" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
              <div class="modal-card card" data-list="{&quot;valueNames&quot;: [&quot;name&quot;]}">
                <div class="card-header">
                  <!-- Title -->
                  <h4 class="card-header-title text-center" id="exampleModalCenterTitle">
                    ¿Quieres Contrarar este plan?
                    <button type="button" class="close mt-1" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">x</span>
                    </button>
                  </h4>
    
                </div>
             
                <div class="card-body">
                  <p class="text-center">Ingresa Tus Datos</p>
                  <div class="container-card">

                    <div class="card-container">
                
                        <div class="front">
                            <div class="image">
                                <img src="{% static 'dist/img/chip.png'%}" alt="">
                                <img src="{% static 'dist/img/visa.png'%}" alt="">
                            </div>
                            <div class="card-number-box">################</div>
                            <div class="flexbox">
                                <div class="box">
                                  <span>Nombre Titular</span>
                                  <div class="card-holder-name">Nombre Completo</div>
                                </div>
                                <div class="box">
                                    <span>Valida Hasta</span>
                                    <div class="expiration">
                                        <span class="exp-month">MM/</span>
                                        <span class="exp-year">YY</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                
                        <div class="back">
                            <div class="stripe"></div>
                            <div class="box">
                                <span>cvv</span>
                                <div class="cvv-box"></div>
                                <img src="image/visa.png" alt="">
                            </div>
                        </div>
                
                    </div>
                
                    <form action="{% url 'contratar' %}" method="POST">
                      {% csrf_token %}
                      <div class="inputBox">
                          <span>Numero Tarjeta</span>
                          <input type="text" maxlength="16" class="card-number-input" name="numeroTarjeta" required>
                      </div>
                      <div class="inputBox">
                          <span>Nombre Titular</span>
                          <input type="text" class="card-holder-input" name="nombreTitular" required>
                      </div>
                      <div class="flexbox">
                          <div class="inputBox">
                              <span>Mes Valida</span>
                              <select id="" class="month-input" name="mes" required>
                                  <option value="month" selected disabled>month</option>
                                  <option value="01">01</option>
                                  <option value="02">02</option>
                                  <option value="03">03</option>
                                  <option value="04">04</option>
                                  <option value="05">05</option>
                                  <option value="06">06</option>
                                  <option value="07">07</option>
                                  <option value="08">08</option>
                                  <option value="09">09</option>
                                  <option value="10">10</option>
                                  <option value="11">11</option>
                                  <option value="12">12</option>
                              </select>
                          </div>
                          <div class="inputBox">
                              <span>Año Valida</span>
                              <select id="" class="year-input" name="anio" required>
                                  <option value="year" selected disabled>year</option>
                                  <option value="23">23</option>
                                  <option value="24">24</option>
                                  <option value="25">25</option>
                                  <option value="26">26</option>
                                  <option value="27">27</option>
                                  <option value="28">28</option>
                                  <option value="29">29</option>
                                  <option value="30">30</option>
                              </select>
                          </div>
                          <div class="inputBox">
                              <span>CVV</span>
                              <input pattern="[0-9.]+" type="text" maxlength="3" class="cvv-input" placeholder="CVV" name="cvv" required>
                          </div>
                      </div>
                      <button type="submit" class="submit-btn">Contratar</button>
                    </form>
                
                  </div>   
                  
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                  
                </div>
              </div>
            </div>
          </div>
    </div><!-- /.modal -->
      
</main>

<script>
  document.querySelector('.card-number-input').oninput = () =>{
  document.querySelector('.card-number-box').innerText = document.querySelector('.card-number-input').value;
  }

  document.querySelector('.card-holder-input').oninput = () =>{
  document.querySelector('.card-holder-name').innerText = document.querySelector('.card-holder-input').value;
  }

  document.querySelector('.month-input').oninput = () =>{
  document.querySelector('.exp-month').innerText = document.querySelector('.month-input').value;
  }

  document.querySelector('.year-input').oninput = () =>{
  document.querySelector('.exp-year').innerText = document.querySelector('.year-input').value;
  }

  document.querySelector('.cvv-input').onmouseenter = () =>{
  document.querySelector('.front').style.transform = 'perspective(1000px) rotateY(-180deg)';
  document.querySelector('.back').style.transform = 'perspective(1000px) rotateY(0deg)';
  }

  document.querySelector('.cvv-input').onmouseleave = () =>{
  document.querySelector('.front').style.transform = 'perspective(1000px) rotateY(0deg)';
  document.querySelector('.back').style.transform = 'perspective(1000px) rotateY(180deg)';
  }

  document.querySelector('.cvv-input').oninput = () =>{
  document.querySelector('.cvv-box').innerText = document.querySelector('.cvv-input').value;
  }
</script>

{% endblock contenido %}

{% block js %}
    
{% endblock js %}
